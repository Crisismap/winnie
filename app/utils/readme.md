utility functions both for editor and viewer
